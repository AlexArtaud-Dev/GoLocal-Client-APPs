{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function () {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n\n        case 7:\n          op = _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n\n            _.ops.push(op);\n\n            break;\n          }\n\n          if (t[2]) _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n      }\n\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar prop_types_1 = __importDefault(require(\"prop-types\"));\n\nvar react_oidc_core_1 = require(\"@axa-fr/react-oidc-core\");\n\nvar Callback_1 = require(\"../Callback\");\n\nvar withServices_1 = __importDefault(require(\"../withServices\"));\n\nvar AuthenticationContext_1 = require(\"./AuthenticationContext\");\n\nvar AuthenticationContext_hooks_1 = require(\"./AuthenticationContext.hooks\");\n\nvar propTypes = {\n  notAuthenticated: prop_types_1.default.elementType,\n  notAuthorized: prop_types_1.default.elementType,\n  authenticating: prop_types_1.default.elementType,\n  callbackComponentOverride: prop_types_1.default.elementType,\n  sessionLostComponent: prop_types_1.default.elementType,\n  configuration: react_oidc_core_1.configurationPropTypes,\n  isEnabled: prop_types_1.default.bool,\n  loggerLevel: prop_types_1.default.number,\n  logger: prop_types_1.default.shape({\n    info: prop_types_1.default.func.isRequired,\n    warn: prop_types_1.default.func.isRequired,\n    error: prop_types_1.default.func.isRequired,\n    debug: prop_types_1.default.func.isRequired\n  }),\n  UserStore: prop_types_1.default.func,\n  customEvents: prop_types_1.default.shape({\n    onUserLoaded: prop_types_1.default.func,\n    onUserUnloaded: prop_types_1.default.func,\n    onSilentRenewError: prop_types_1.default.func,\n    onUserSignedOut: prop_types_1.default.func,\n    onUserSessionChanged: prop_types_1.default.func,\n    onAccessTokenExpiring: prop_types_1.default.func,\n    onAccessTokenExpired: prop_types_1.default.func\n  })\n};\nvar defaultProps = {\n  notAuthenticated: null,\n  notAuthorized: null,\n  authenticating: null,\n  callbackComponentOverride: null,\n  sessionLostComponent: null,\n  isEnabled: true,\n  loggerLevel: 0,\n  logger: console,\n  configuration: react_oidc_core_1.configurationDefaultProps,\n  customEvents: null\n};\n\nexports.withComponentOverrideProps = function (Component, customCallback) {\n  return function (props) {\n    return react_1.default.createElement(Component, __assign({\n      callbackComponentOverride: customCallback\n    }, props));\n  };\n};\n\nexports.AuthenticationProviderInt = function (_a) {\n  var location = _a.location,\n      history = _a.history,\n      configuration = _a.configuration,\n      isEnabled = _a.isEnabled,\n      UserStore = _a.UserStore,\n      loggerLevel = _a.loggerLevel,\n      logger = _a.logger,\n      sessionLostComponent = _a.sessionLostComponent,\n      authenticating = _a.authenticating,\n      notAuthenticated = _a.notAuthenticated,\n      notAuthorized = _a.notAuthorized,\n      callbackComponentOverride = _a.callbackComponentOverride,\n      children = _a.children,\n      customEvents = _a.customEvents,\n      // Injected\n  authenticationServiceInt = _a.authenticationServiceInt,\n      CallbackInt = _a.CallbackInt,\n      setLoggerInt = _a.setLoggerInt,\n      OidcRoutesInt = _a.OidcRoutesInt,\n      oidcLogInt = _a.oidcLogInt,\n      authenticateUserInt = _a.authenticateUserInt,\n      logoutUserInt = _a.logoutUserInt;\n  var userManager = authenticationServiceInt(configuration, UserStore);\n\n  var _b = AuthenticationContext_hooks_1.useAuthenticationContextState(userManager),\n      oidcState = _b.oidcState,\n      loadUser = _b.loadUser,\n      onError = _b.onError,\n      onLoading = _b.onLoading,\n      unloadUser = _b.unloadUser,\n      onLogout = _b.onLogout;\n\n  var oidcFunctions = {\n    loadUser: loadUser,\n    onError: onError,\n    onLoading: onLoading,\n    unloadUser: unloadUser,\n    onLogout: onLogout\n  };\n\n  var _c = AuthenticationContext_hooks_1.useOidcEvents(oidcLogInt, userManager, oidcFunctions, customEvents),\n      addOidcEvents = _c.addOidcEvents,\n      removeOidcEvents = _c.removeOidcEvents;\n\n  react_1.useEffect(function () {\n    onLoading();\n    setLoggerInt(loggerLevel, logger);\n    addOidcEvents();\n    var mount = true;\n    userManager.getUser().then(function (user) {\n      if (mount) {\n        loadUser(user);\n      }\n    });\n    return function () {\n      removeOidcEvents();\n      mount = false;\n    };\n  }, [addOidcEvents, loadUser, logger, loggerLevel, onLoading, removeOidcEvents, setLoggerInt, userManager, customEvents]);\n  var CallbackComponent = react_1.default.useMemo(function () {\n    return callbackComponentOverride ? exports.withComponentOverrideProps(CallbackInt, callbackComponentOverride) : CallbackInt;\n  }, [CallbackInt, callbackComponentOverride]);\n  var loginCallback = react_1.useCallback(function () {\n    return __awaiter(void 0, void 0, void 0, function () {\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            onLoading();\n            oidcLogInt.info('Login requested');\n            return [4\n            /*yield*/\n            , authenticateUserInt(userManager, location, history)()];\n\n          case 1:\n            _a.sent();\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }, [authenticateUserInt, history, location, oidcLogInt, onLoading, userManager]);\n  var logoutCallback = react_1.useCallback(function () {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var error_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            _a.trys.push([0, 2,, 3]);\n\n            onLogout();\n            return [4\n            /*yield*/\n            , logoutUserInt(userManager)];\n\n          case 1:\n            _a.sent();\n\n            oidcLogInt.info('Logout successfull');\n            return [3\n            /*break*/\n            , 3];\n\n          case 2:\n            error_1 = _a.sent();\n            onError(error_1.message);\n            return [3\n            /*break*/\n            , 3];\n\n          case 3:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }, [logoutUserInt, oidcLogInt, onError, onLogout, userManager]);\n  return react_1.default.createElement(AuthenticationContext_1.AuthenticationContext.Provider, {\n    value: __assign(__assign({}, oidcState), {\n      authenticating: authenticating,\n      isEnabled: isEnabled,\n      login: loginCallback,\n      logout: logoutCallback,\n      events: oidcState.userManager.events\n    })\n  }, react_1.default.createElement(OidcRoutesInt, {\n    notAuthenticated: notAuthenticated,\n    notAuthorized: notAuthorized,\n    callbackComponent: CallbackComponent,\n    sessionLost: sessionLostComponent,\n    configuration: configuration\n  }, children));\n};\n\nvar AuthenticationProvider = react_oidc_core_1.withRouter(withServices_1.default(exports.AuthenticationProviderInt, {\n  CallbackInt: Callback_1.Callback,\n  authenticationServiceInt: react_oidc_core_1.authenticationService,\n  setLoggerInt: react_oidc_core_1.setLogger,\n  OidcRoutesInt: react_oidc_core_1.OidcRoutes,\n  oidcLogInt: react_oidc_core_1.oidcLog,\n  authenticateUserInt: react_oidc_core_1.authenticateUser,\n  logoutUserInt: react_oidc_core_1.logoutUser\n})); // @ts-ignore\n\nAuthenticationProvider.propTypes = propTypes;\nAuthenticationProvider.defaultProps = defaultProps;\nAuthenticationProvider.displayName = 'AuthenticationProvider';\nexports.default = AuthenticationProvider;","map":{"version":3,"sources":["D:/Documents/IUT/S3D/Projet Entreprise/GoLocal/goLocal-Client/account-golocal/node_modules/@axa-fr/react-oidc-context/dist/oidcContext/AuthenticationContext.provider.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","push","__importStar","mod","__esModule","k","__importDefault","defineProperty","exports","react_1","require","prop_types_1","react_oidc_core_1","Callback_1","withServices_1","AuthenticationContext_1","AuthenticationContext_hooks_1","propTypes","notAuthenticated","default","elementType","notAuthorized","authenticating","callbackComponentOverride","sessionLostComponent","configuration","configurationPropTypes","isEnabled","bool","loggerLevel","number","logger","shape","info","func","isRequired","warn","error","debug","UserStore","customEvents","onUserLoaded","onUserUnloaded","onSilentRenewError","onUserSignedOut","onUserSessionChanged","onAccessTokenExpiring","onAccessTokenExpired","defaultProps","console","configurationDefaultProps","withComponentOverrideProps","Component","customCallback","props","createElement","AuthenticationProviderInt","_a","location","history","children","authenticationServiceInt","CallbackInt","setLoggerInt","OidcRoutesInt","oidcLogInt","authenticateUserInt","logoutUserInt","userManager","_b","useAuthenticationContextState","oidcState","loadUser","onError","onLoading","unloadUser","onLogout","oidcFunctions","_c","useOidcEvents","addOidcEvents","removeOidcEvents","useEffect","mount","getUser","user","CallbackComponent","useMemo","loginCallback","useCallback","logoutCallback","error_1","message","AuthenticationContext","Provider","login","logout","events","callbackComponent","sessionLost","AuthenticationProvider","withRouter","Callback","authenticationService","setLogger","OidcRoutes","oidcLog","authenticateUser","logoutUser","displayName"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importStar(require(\"react\"));\nvar prop_types_1 = __importDefault(require(\"prop-types\"));\nvar react_oidc_core_1 = require(\"@axa-fr/react-oidc-core\");\nvar Callback_1 = require(\"../Callback\");\nvar withServices_1 = __importDefault(require(\"../withServices\"));\nvar AuthenticationContext_1 = require(\"./AuthenticationContext\");\nvar AuthenticationContext_hooks_1 = require(\"./AuthenticationContext.hooks\");\nvar propTypes = {\n    notAuthenticated: prop_types_1.default.elementType,\n    notAuthorized: prop_types_1.default.elementType,\n    authenticating: prop_types_1.default.elementType,\n    callbackComponentOverride: prop_types_1.default.elementType,\n    sessionLostComponent: prop_types_1.default.elementType,\n    configuration: react_oidc_core_1.configurationPropTypes,\n    isEnabled: prop_types_1.default.bool,\n    loggerLevel: prop_types_1.default.number,\n    logger: prop_types_1.default.shape({\n        info: prop_types_1.default.func.isRequired,\n        warn: prop_types_1.default.func.isRequired,\n        error: prop_types_1.default.func.isRequired,\n        debug: prop_types_1.default.func.isRequired,\n    }),\n    UserStore: prop_types_1.default.func,\n    customEvents: prop_types_1.default.shape({\n        onUserLoaded: prop_types_1.default.func,\n        onUserUnloaded: prop_types_1.default.func,\n        onSilentRenewError: prop_types_1.default.func,\n        onUserSignedOut: prop_types_1.default.func,\n        onUserSessionChanged: prop_types_1.default.func,\n        onAccessTokenExpiring: prop_types_1.default.func,\n        onAccessTokenExpired: prop_types_1.default.func,\n    }),\n};\nvar defaultProps = {\n    notAuthenticated: null,\n    notAuthorized: null,\n    authenticating: null,\n    callbackComponentOverride: null,\n    sessionLostComponent: null,\n    isEnabled: true,\n    loggerLevel: 0,\n    logger: console,\n    configuration: react_oidc_core_1.configurationDefaultProps,\n    customEvents: null,\n};\nexports.withComponentOverrideProps = function (Component, customCallback) { return function (props) { return (react_1.default.createElement(Component, __assign({ callbackComponentOverride: customCallback }, props))); }; };\nexports.AuthenticationProviderInt = function (_a) {\n    var location = _a.location, history = _a.history, configuration = _a.configuration, isEnabled = _a.isEnabled, UserStore = _a.UserStore, loggerLevel = _a.loggerLevel, logger = _a.logger, sessionLostComponent = _a.sessionLostComponent, authenticating = _a.authenticating, notAuthenticated = _a.notAuthenticated, notAuthorized = _a.notAuthorized, callbackComponentOverride = _a.callbackComponentOverride, children = _a.children, customEvents = _a.customEvents, \n    // Injected\n    authenticationServiceInt = _a.authenticationServiceInt, CallbackInt = _a.CallbackInt, setLoggerInt = _a.setLoggerInt, OidcRoutesInt = _a.OidcRoutesInt, oidcLogInt = _a.oidcLogInt, authenticateUserInt = _a.authenticateUserInt, logoutUserInt = _a.logoutUserInt;\n    var userManager = authenticationServiceInt(configuration, UserStore);\n    var _b = AuthenticationContext_hooks_1.useAuthenticationContextState(userManager), oidcState = _b.oidcState, loadUser = _b.loadUser, onError = _b.onError, onLoading = _b.onLoading, unloadUser = _b.unloadUser, onLogout = _b.onLogout;\n    var oidcFunctions = { loadUser: loadUser, onError: onError, onLoading: onLoading, unloadUser: unloadUser, onLogout: onLogout };\n    var _c = AuthenticationContext_hooks_1.useOidcEvents(oidcLogInt, userManager, oidcFunctions, customEvents), addOidcEvents = _c.addOidcEvents, removeOidcEvents = _c.removeOidcEvents;\n    react_1.useEffect(function () {\n        onLoading();\n        setLoggerInt(loggerLevel, logger);\n        addOidcEvents();\n        var mount = true;\n        userManager.getUser().then(function (user) {\n            if (mount) {\n                loadUser(user);\n            }\n        });\n        return function () {\n            removeOidcEvents();\n            mount = false;\n        };\n    }, [addOidcEvents, loadUser, logger, loggerLevel, onLoading, removeOidcEvents, setLoggerInt, userManager, customEvents]);\n    var CallbackComponent = react_1.default.useMemo(function () { return (callbackComponentOverride ? exports.withComponentOverrideProps(CallbackInt, callbackComponentOverride) : CallbackInt); }, [CallbackInt, callbackComponentOverride]);\n    var loginCallback = react_1.useCallback(function () { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    onLoading();\n                    oidcLogInt.info('Login requested');\n                    return [4 /*yield*/, authenticateUserInt(userManager, location, history)()];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    }); }, [authenticateUserInt, history, location, oidcLogInt, onLoading, userManager]);\n    var logoutCallback = react_1.useCallback(function () { return __awaiter(void 0, void 0, void 0, function () {\n        var error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    onLogout();\n                    return [4 /*yield*/, logoutUserInt(userManager)];\n                case 1:\n                    _a.sent();\n                    oidcLogInt.info('Logout successfull');\n                    return [3 /*break*/, 3];\n                case 2:\n                    error_1 = _a.sent();\n                    onError(error_1.message);\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); }, [logoutUserInt, oidcLogInt, onError, onLogout, userManager]);\n    return (react_1.default.createElement(AuthenticationContext_1.AuthenticationContext.Provider, { value: __assign(__assign({}, oidcState), { authenticating: authenticating,\n            isEnabled: isEnabled, login: loginCallback, logout: logoutCallback, events: oidcState.userManager.events }) },\n        react_1.default.createElement(OidcRoutesInt, { notAuthenticated: notAuthenticated, notAuthorized: notAuthorized, callbackComponent: CallbackComponent, sessionLost: sessionLostComponent, configuration: configuration }, children)));\n};\nvar AuthenticationProvider = react_oidc_core_1.withRouter(withServices_1.default(exports.AuthenticationProviderInt, {\n    CallbackInt: Callback_1.Callback,\n    authenticationServiceInt: react_oidc_core_1.authenticationService,\n    setLoggerInt: react_oidc_core_1.setLogger,\n    OidcRoutesInt: react_oidc_core_1.OidcRoutes,\n    oidcLogInt: react_oidc_core_1.oidcLog,\n    authenticateUserInt: react_oidc_core_1.authenticateUser,\n    logoutUserInt: react_oidc_core_1.logoutUser,\n}));\n// @ts-ignore\nAuthenticationProvider.propTypes = propTypes;\nAuthenticationProvider.defaultProps = defaultProps;\nAuthenticationProvider.displayName = 'AuthenticationProvider';\nexports.default = AuthenticationProvider;\n"]},"metadata":{},"sourceType":"script"}