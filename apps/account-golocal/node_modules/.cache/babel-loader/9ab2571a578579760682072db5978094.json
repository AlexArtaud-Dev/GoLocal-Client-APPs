{"ast":null,"code":"\"use strict\";\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar react_oidc_core_1 = require(\"@axa-fr/react-oidc-core\");\n\nvar withServices_1 = __importDefault(require(\"../withServices\"));\n\nexports.onRedirectSuccess = function (history, oidcLogInternal) {\n  return function (user) {\n    oidcLogInternal.info('Successfull login Callback', user);\n\n    if (user.state.url) {\n      history.push(user.state.url);\n    } else {\n      oidcLogInternal.warn('no location in state');\n    }\n  };\n};\n\nexports.onRedirectError = function (history, oidcLogInternal) {\n  return function (_a) {\n    var message = _a.message;\n    oidcLogInternal.error(\"There was an error handling the token callback: \" + message);\n    history.push(\"/authentication/not-authenticated?message=\" + encodeURIComponent(message));\n  };\n};\n\nexports.CallbackContainerCore = function (_a) {\n  var history = _a.history,\n      getUserManagerInternal = _a.getUserManager,\n      oidcLogInternal = _a.oidcLog,\n      CallbackComponentOverride = _a.callbackComponentOverride;\n  var onSuccess = exports.onRedirectSuccess(history, oidcLogInternal);\n  var onError = exports.onRedirectError(history, oidcLogInternal);\n  react_1.useEffect(function () {\n    getUserManagerInternal().signinRedirectCallback().then(onSuccess, onError);\n  }, [getUserManagerInternal, onError, onSuccess]);\n  return CallbackComponentOverride ? react_1.default.createElement(CallbackComponentOverride, null) : react_1.default.createElement(react_oidc_core_1.Callback, null);\n};\n\nvar CallbackContainer = react_oidc_core_1.withRouter(withServices_1.default(exports.CallbackContainerCore, {\n  getUserManager: react_oidc_core_1.getUserManager,\n  oidcLog: react_oidc_core_1.oidcLog\n}));\nexports.default = react_1.default.memo(CallbackContainer);","map":{"version":3,"sources":["D:/Documents/IUT/S3D/Projet Entreprise/GoLocal/goLocal-Client/account-golocal/node_modules/@axa-fr/react-oidc-context/dist/Callback/Callback.container.js"],"names":["__importStar","mod","__esModule","result","k","Object","hasOwnProperty","call","__importDefault","defineProperty","exports","value","react_1","require","react_oidc_core_1","withServices_1","onRedirectSuccess","history","oidcLogInternal","user","info","state","url","push","warn","onRedirectError","_a","message","error","encodeURIComponent","CallbackContainerCore","getUserManagerInternal","getUserManager","oidcLog","CallbackComponentOverride","callbackComponentOverride","onSuccess","onError","useEffect","signinRedirectCallback","then","default","createElement","Callback","CallbackContainer","withRouter","memo"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importStar(require(\"react\"));\nvar react_oidc_core_1 = require(\"@axa-fr/react-oidc-core\");\nvar withServices_1 = __importDefault(require(\"../withServices\"));\nexports.onRedirectSuccess = function (history, oidcLogInternal) { return function (user) {\n    oidcLogInternal.info('Successfull login Callback', user);\n    if (user.state.url) {\n        history.push(user.state.url);\n    }\n    else {\n        oidcLogInternal.warn('no location in state');\n    }\n}; };\nexports.onRedirectError = function (history, oidcLogInternal) { return function (_a) {\n    var message = _a.message;\n    oidcLogInternal.error(\"There was an error handling the token callback: \" + message);\n    history.push(\"/authentication/not-authenticated?message=\" + encodeURIComponent(message));\n}; };\nexports.CallbackContainerCore = function (_a) {\n    var history = _a.history, getUserManagerInternal = _a.getUserManager, oidcLogInternal = _a.oidcLog, CallbackComponentOverride = _a.callbackComponentOverride;\n    var onSuccess = exports.onRedirectSuccess(history, oidcLogInternal);\n    var onError = exports.onRedirectError(history, oidcLogInternal);\n    react_1.useEffect(function () {\n        getUserManagerInternal()\n            .signinRedirectCallback()\n            .then(onSuccess, onError);\n    }, [getUserManagerInternal, onError, onSuccess]);\n    return CallbackComponentOverride ? react_1.default.createElement(CallbackComponentOverride, null) : react_1.default.createElement(react_oidc_core_1.Callback, null);\n};\nvar CallbackContainer = react_oidc_core_1.withRouter(withServices_1.default(exports.CallbackContainerCore, {\n    getUserManager: react_oidc_core_1.getUserManager,\n    oidcLog: react_oidc_core_1.oidcLog,\n}));\nexports.default = react_1.default.memo(CallbackContainer);\n"]},"metadata":{},"sourceType":"script"}