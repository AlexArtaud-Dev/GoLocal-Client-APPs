{"ast":null,"code":"\"use strict\";\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar prop_types_1 = __importDefault(require(\"prop-types\"));\n\nvar default_component_1 = require(\"../default-component\");\n\nvar route_utils_1 = require(\"./route-utils\");\n\nvar callbacks_1 = require(\"../callbacks\");\n\nvar propTypes = {\n  notAuthenticated: prop_types_1.default.elementType,\n  notAuthorized: prop_types_1.default.elementType,\n  callbackComponent: prop_types_1.default.elementType.isRequired,\n  configuration: prop_types_1.default.shape({\n    redirect_uri: prop_types_1.default.string.isRequired,\n    silent_redirect_uri: prop_types_1.default.string.isRequired\n  }).isRequired,\n  children: prop_types_1.default.node\n};\nvar defaultProps = {\n  notAuthenticated: null,\n  notAuthorized: null\n};\n\nvar OidcRoutes = function (_a) {\n  var notAuthenticated = _a.notAuthenticated,\n      notAuthorized = _a.notAuthorized,\n      CallbackComponent = _a.callbackComponent,\n      sessionLost = _a.sessionLost,\n      configuration = _a.configuration,\n      children = _a.children;\n\n  var _b = react_1.useState(window.location.pathname),\n      path = _b[0],\n      setPath = _b[1];\n\n  var setNewPath = function () {\n    return setPath(window.location.pathname);\n  };\n\n  react_1.useEffect(function () {\n    setNewPath();\n    window.addEventListener('popstate', setNewPath, false);\n    return function () {\n      return window.removeEventListener('popstate', setNewPath, false);\n    };\n  });\n  var NotAuthenticatedComponent = notAuthenticated || default_component_1.NotAuthenticated;\n  var NotAuthorizedComponent = notAuthorized || default_component_1.NotAuthorized;\n  var SessionLostComponent = sessionLost || default_component_1.SessionLost;\n  var silentCallbackPath = route_utils_1.getPath(configuration.silent_redirect_uri);\n  var callbackPath = route_utils_1.getPath(configuration.redirect_uri);\n\n  switch (path) {\n    case callbackPath:\n      return react_1.default.createElement(CallbackComponent, null);\n\n    case silentCallbackPath:\n      return react_1.default.createElement(callbacks_1.SilentCallback, null);\n\n    case '/authentication/not-authenticated':\n      return react_1.default.createElement(NotAuthenticatedComponent, null);\n\n    case '/authentication/not-authorized':\n      return react_1.default.createElement(NotAuthorizedComponent, null);\n\n    case '/authentication/session-lost':\n      return react_1.default.createElement(SessionLostComponent, null);\n\n    default:\n      return react_1.default.createElement(react_1.default.Fragment, null, children);\n  }\n}; // @ts-ignore\n\n\nOidcRoutes.propTypes = propTypes;\nOidcRoutes.defaultProps = defaultProps;\nexports.default = react_1.default.memo(OidcRoutes);","map":{"version":3,"sources":["D:/Documents/IUT/S3D/Projet Entreprise/GoLocal/goLocal-Client/account-golocal/node_modules/@axa-fr/react-oidc-core/dist/routes/OidcRoutes.js"],"names":["__importStar","mod","__esModule","result","k","Object","hasOwnProperty","call","__importDefault","defineProperty","exports","value","react_1","require","prop_types_1","default_component_1","route_utils_1","callbacks_1","propTypes","notAuthenticated","default","elementType","notAuthorized","callbackComponent","isRequired","configuration","shape","redirect_uri","string","silent_redirect_uri","children","node","defaultProps","OidcRoutes","_a","CallbackComponent","sessionLost","_b","useState","window","location","pathname","path","setPath","setNewPath","useEffect","addEventListener","removeEventListener","NotAuthenticatedComponent","NotAuthenticated","NotAuthorizedComponent","NotAuthorized","SessionLostComponent","SessionLost","silentCallbackPath","getPath","callbackPath","createElement","SilentCallback","Fragment","memo"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importStar(require(\"react\"));\nvar prop_types_1 = __importDefault(require(\"prop-types\"));\nvar default_component_1 = require(\"../default-component\");\nvar route_utils_1 = require(\"./route-utils\");\nvar callbacks_1 = require(\"../callbacks\");\nvar propTypes = {\n    notAuthenticated: prop_types_1.default.elementType,\n    notAuthorized: prop_types_1.default.elementType,\n    callbackComponent: prop_types_1.default.elementType.isRequired,\n    configuration: prop_types_1.default.shape({\n        redirect_uri: prop_types_1.default.string.isRequired,\n        silent_redirect_uri: prop_types_1.default.string.isRequired,\n    }).isRequired,\n    children: prop_types_1.default.node,\n};\nvar defaultProps = {\n    notAuthenticated: null,\n    notAuthorized: null,\n};\nvar OidcRoutes = function (_a) {\n    var notAuthenticated = _a.notAuthenticated, notAuthorized = _a.notAuthorized, CallbackComponent = _a.callbackComponent, sessionLost = _a.sessionLost, configuration = _a.configuration, children = _a.children;\n    var _b = react_1.useState(window.location.pathname), path = _b[0], setPath = _b[1];\n    var setNewPath = function () { return setPath(window.location.pathname); };\n    react_1.useEffect(function () {\n        setNewPath();\n        window.addEventListener('popstate', setNewPath, false);\n        return function () { return window.removeEventListener('popstate', setNewPath, false); };\n    });\n    var NotAuthenticatedComponent = notAuthenticated || default_component_1.NotAuthenticated;\n    var NotAuthorizedComponent = notAuthorized || default_component_1.NotAuthorized;\n    var SessionLostComponent = sessionLost || default_component_1.SessionLost;\n    var silentCallbackPath = route_utils_1.getPath(configuration.silent_redirect_uri);\n    var callbackPath = route_utils_1.getPath(configuration.redirect_uri);\n    switch (path) {\n        case callbackPath:\n            return react_1.default.createElement(CallbackComponent, null);\n        case silentCallbackPath:\n            return react_1.default.createElement(callbacks_1.SilentCallback, null);\n        case '/authentication/not-authenticated':\n            return react_1.default.createElement(NotAuthenticatedComponent, null);\n        case '/authentication/not-authorized':\n            return react_1.default.createElement(NotAuthorizedComponent, null);\n        case '/authentication/session-lost':\n            return react_1.default.createElement(SessionLostComponent, null);\n        default:\n            return react_1.default.createElement(react_1.default.Fragment, null, children);\n    }\n};\n// @ts-ignore\nOidcRoutes.propTypes = propTypes;\nOidcRoutes.defaultProps = defaultProps;\nexports.default = react_1.default.memo(OidcRoutes);\n"]},"metadata":{},"sourceType":"script"}